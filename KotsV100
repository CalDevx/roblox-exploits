local lp = game.Players.LocalPlayer
local pc = lp.Character
local ch = pc.Humanoid

local function KotsNotification(title, text, icon)
    return game:GetService("StarterGui"):SetCore("SendNotification",{
        Title = title, -- Required
        Text = text, -- Required
        Icon = icon -- Optional
    })
end

local function KotsNotficationFunc(title, text, icon, func)
    KotsNotification(title, text, icon)
    return func
end

local chhrp = pc.HumanoidRootPart
local chhrp_clone = chhrp:Clone()

chhrp_clone.Parent = game.ReplicatedStorage

local function Kots()
    game:GetService("RunService").Heartbeat:Connect(function()
        local ray = Ray.new(chhrp.Position, Vector3.new(0, -1, 0) * 2)
        local part, position = workspace:FindPartOnRay(ray, pc, false, true)

        if part then
            local humanoid = part:FindFirstChildOfClass("Humanoid")
            if humanoid and humanoid.Parent and humanoid.Parent:IsA("Model") then
                local playerFromCharacter = game:GetService("Players"):GetPlayerFromCharacter(humanoid.Parent)
                if playerFromCharacter and playerFromCharacter ~= lp then
                    ch:TakeDamage(100)
                end
            end
        end
    end)
end

local function DisableKots()
    chhrp:Destroy()
    pc.HumanoidRootPart = chhrp_clone
end

lp.Chatted:Connect(function(m, o)
    if m == "!enablekots" then
        KotsNotficationFunc("Kots", "Kots has been enabled", "", Kots)
    end

    if m == "!disablekots" then
        KotsNotficationFunc("Kots", "Kots has been disabled", "", DisableKots)
    end
end)

KotsNotification("Kots", "Kots has been executed", "")
